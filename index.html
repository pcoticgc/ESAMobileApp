<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Mapa VT</title>
        <link rel='stylesheet' href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.css' />
        <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js'></script>
        <link href='https://mapbox-gl-inspect.lukasmartinelli.ch/dist/mapbox-gl-inspect.css' rel='stylesheet' />
        <script src='https://mapbox-gl-inspect.lukasmartinelli.ch/dist/mapbox-gl-inspect.min.js'></script>
        <style>
            html, body {
                margin: 0;
                height: 100%;
            }
        </style>
    </head>
    <body id='map'>
        <script>
            var map = new mapboxgl.Map({
                container: 'map', // id del elemento HTML que contendrá el mapa
                style: 'https://geoserveis.icgc.cat/contextmaps/hibrid.json', // Ubicación del estilo
                center: [2.175, 41.39], // Ubicación inicial
                zoom: 13 // Zoom inicial
                /* bearing: -45, // Ángulo de rotación inicial
                hash: true // Permite ir guardando la posición del mapa en la URL */
            });
            map.on('load', function() {
                map.addSource("out", {
                    "type": "vector",
                    /* "tiles": ["https://tilemaps.icgc.cat/tileserver/tileserver.php/pcot_in/{z}/{x}/{y}.pbf"] */
                    "tiles": ["https://tilemaps.icgc.cat/tileserver/tileserver.php/pousCat/%7Bz%7D/%7Bx%7D/%7By%7D.pbf"]
                });
        
                map.addLayer({
                    "id": "outPoints",
                    "source": "out",
                    "source-layer": "in",
                    "type": "circle",
                    "paint": {
                        "circle-opacity": 0.75,
                        "circle-color": "#3413ba",
                        "circle-stroke-color": "#000"
                    }
                });
            });
        
            // Agrega controles de navegación (zoom, rotación) al mapa:
            map.addControl(new mapboxgl.NavigationControl());

            // Agregar el control de inspección
           /*  map.addControl(new MapboxInspect()); */

            /* Boton para geolocalizar al usuario */
            map.addControl(new mapboxgl.GeolocateControl({
            positionOptions: {
            enableHighAccuracy: true
            },
            trackUserLocation: true
        }));
        </script>
</body>
</html>

